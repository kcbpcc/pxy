#!/bin/bash

echo "Menu:"
echo "1. Export"
echo "2. Import"
read -p "Choose an option (export/import): " option

case $option in
    export)
        # Export
        echo "Exporting files to pxycloud:/csv"
        rclone copy --ignore-times --progress --verbose --config=.config/rclone/rclone.conf ~/pxy/sys/exe/run/filePnL.csv pxycloud:/csv
        rclone copy --ignore-times --progress --verbose --config=.config/rclone/rclone.conf ~/pxy/sys/exe/run/filePnL_nrml.csv pxycloud:/csv
        rclone copy --ignore-times --progress --verbose --config=.config/rclone/rclone.conf ~/pxy/sys/exe/run/mempxy.csv pxycloud:/csv
        rclone copy --ignore-times --progress --verbose --config=.config/rclone/rclone.conf ~/pxy/sys/exe/run/bordpxy.csv pxycloud:/csv

        ;;

    import)
        # Import
        echo "Importing files from pxycloud:/csv"
        rclone copy --ignore-times --progress --verbose --config=.config/rclone/rclone.conf pxycloud:/csv/filePnL.csv ~/pxy/sys/exe/run/
        rclone copy --ignore-times --progress --verbose --config=.config/rclone/rclone.conf pxycloud:/csv/filePnL_nrml.csv ~/pxy/sys/exe/run/
        rclone copy --ignore-times --progress --verbose --config=.config/rclone/rclone.conf pxycloud:/csv/mempxy.csv ~/pxy/sys/exe/run/
        rclone copy --ignore-times --progress --verbose --config=.config/rclone/rclone.conf pxycloud:/csv/bordpxy.csv ~/pxy/sys/exe/run/

        ;;

    *)
        echo "Invalid option. Please choose 'export' or 'import'."
        exit 1
        ;;
esac

# Prompt for confirmation
read -p "Do you want to continue? (y/n): " confirm
if [ "$confirm" != "y" ]; then
    echo "Operation canceled."
    exit 0
fi


