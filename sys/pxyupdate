#!/bin/bash
cd $HOME/pxy
#mv $HOME/pxy/sys/exe/run/filePnL.csv $HOME/pxy/sys/exe/run/_filePnL.csv 
#mv $HOME/pxy/sys/exe/run/filePnL_nrml.csv $HOME/pxy/sys/exe/run/_filePnL_nrml.csv 
echo '                                 '
echo "       ******** GET UPDATES *******"
echo '                                 '
#!/bin/bash

# Echo messages
echo "       ******** GET UPDATES *******"
echo '                                 '

# Capture the output and error message of git fetch --all
fetch_output=$(git fetch --all 2>&1)

# Check if there was an error with git fetch --all
if [ $? -ne 0 ]; then
  # Print the error message in red
  echo -e "\e[31m$fetch_output\e[0m"
else
  echo "$fetch_output"
fi

echo '                                 '
echo '                                 '

# Capture the output and error message of git reset --hard origin/main
reset_output=$(git reset --hard origin/main 2>&1)

# Check if there was an error with git reset --hard origin/main
if [ $? -ne 0 ]; then
  # Print the error message in red
  echo -e "\e[31m$reset_output\e[0m"
else
  echo "$reset_output"
fi
sudo cp ~/pxy/sys/pxy ~/pxy/sys/p
sudo cp ~/pxy/sys/* /usr/local/bin/ &> /dev/null
sudo chmod +x /usr/local/bin/*
echo '                                 '
echo "       ***** UPDATE COMPLETED *****"
echo '                                 '
#rm $HOME/pxy/sys/exe/run/filePnL.csv
#mv $HOME/pxy/sys/exe/run/_filePnL.csv $HOME/pxy/sys/exe/run/filePnL.csv 
#mv $HOME/pxy/sys/exe/run/_filePnL_nrml.csv $HOME/pxy/sys/exe/run/filePnL_nrml.csv
