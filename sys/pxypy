#!/bin/bash

# Activate the virtual environment
source ~/env/bin/activate

# Change to the script's directory
cd ~/pxy/sys/exe/run

# List the files in two columns with numbers
echo "Available scripts:"
files=($(ls))
columns=2
rows=$(( (${#files[@]} + columns - 1) / columns ))

for ((i=0; i<rows; i++)); do
    for ((j=i; j<${#files[@]}; j+=rows)); do
        script_number=$((j+1))
        printf "%-5s %-20s" "$script_number." "${files[j]}"
    done
    echo
done

# Prompt the user for the script's number
read -p "Enter the number of the script to execute ðŸ‘‰: " script_number

# Validate the input
if [[ ! $script_number =~ ^[0-9]+$ ]]; then
    echo "Error: Invalid input. Please enter a valid number."
    exit 1
fi

# Get the selected script name
selected_script="${files[$script_number - 1]}"

# Check if the selected script exists
if [ -f "$selected_script" ]; then
    # Run the Python script
    python3 "$selected_script"
else
    echo "Error: The specified script does not exist."
fi
