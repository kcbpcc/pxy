#!/bin/bash

# Function to get the list of profile IDs
get_profile_ids() {
    gsettings get org.gnome.Terminal.ProfilesList list | tr -d "[],' " | tr -d '\n' | tr ' ' '\n'
}

# Function to change the background color
change_bg_color() {
    local profile_id="$1"
    local color="$2"
    gsettings set org.gnome.Terminal.Legacy.Profile:/org/gnome/terminal/legacy/profiles:/:${profile_id}/ background-color "'${color}'"
}

# Get the profile IDs
profile_ids=$(get_profile_ids)

# Check if any profile IDs were found
if [ -z "$profile_ids" ]; then
    echo "No profiles found. Exiting."
    exit 1
fi

# Define the gray color
gray_color="rgb(211,211,211)"

# Change the background color for the first profile ID found
for profile_id in $profile_ids; do
    change_bg_color "$profile_id" "$gray_color"
    echo "Background color changed to gray for profile ID: $profile_id"
    break
done
